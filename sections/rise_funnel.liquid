<section class="rise-funnel">
  <style>
    .rise-funnel {
      background: #05060A;
      padding: 60px 0;
      color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', system-ui, sans-serif;
    }
    .rise-wrap {
      max-width: 1250px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .rise-trust {
      text-align: center;
      font-size: 13px;
      letter-spacing: .12em;
      text-transform: uppercase;
      padding: 8px 14px;
      margin-bottom: 30px;
      display: inline-block;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.05);
    }

    .rise-hero {
      display: grid;
      grid-template-columns: 1.1fr 1fr;
      gap: 40px;
      margin-bottom: 50px;
      align-items: center;
    }
    .rise-kicker {
      color: #22C55E;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: .18em;
      margin-bottom: 8px;
    }
    .rise-title {
      font-size: clamp(32px, 4vw, 46px);
      font-weight: 700;
      margin-bottom: 12px;
      line-height: 1.15;
    }
    .rise-sub {
      color: #d1d5db;
      font-size: 16px;
      margin-bottom: 20px;
    }

    .rise-bullets {
      list-style: none;
      padding: 0;
      margin: 20px 0;
    }
    .rise-bullets li {
      display: flex;
      gap: 10px;
      margin-bottom: 8px;
      font-size: 15px;
      color: #e5e7eb;
    }
    .rise-bullets li::before {
      content: "✔";
      color: #22C55E;
      font-weight: 700;
    }

    .rise-btn {
      background: #22C55E;
      color: #05060A;
      padding: 14px 26px;
      border-radius: 999px;
      font-size: 15px;
      font-weight: 600;
      text-decoration: none;
      display: inline-block;
      margin-top: 10px;
      transition: .25s;
    }
    .rise-btn:hover {
      background: #16A34A;
    }

    .rise-hero-img img {
      width: 100%;
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.15);
      background: radial-gradient(circle at top left, #22c55e22, #05060A);
    }

    .logos-wrap {
      text-align: center;
      margin: 40px 0;
    }
    .logos-title {
      font-size: 12px;
      letter-spacing: .14em;
      margin-bottom: 14px;
      color: #9ca3af;
      text-transform: uppercase;
    }
    .logos-grid {
      display: flex;
      justify-content: center;
      gap: 24px;
      flex-wrap: wrap;
      opacity: .85;
    }
    .logos-grid img {
      max-height: 26px;
      filter: grayscale(1) brightness(1.3);
    }

    .benefits-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
      margin: 50px 0;
    }
    .benefit-box {
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      padding: 20px;
      border-radius: 16px;
    }
    .benefit-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 6px;
    }
    .benefit-text {
      font-size: 14px;
      color: #d1d5db;
    }

    .ugc-strip {
      display: flex;
      gap: 14px;
      overflow-x: auto;
      padding-bottom: 10px;
      margin: 40px 0;
    }
    .ugc-card {
      min-width: 180px;
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px;
      background: rgba(255,255,255,.03);
    }
    .ugc-thumb {
      position: relative;
      overflow: hidden;
      border-radius: 14px;
      margin-bottom: 8px;
    }
    .ugc-thumb img {
      width: 100%;
      display: block;
    }
    .ugc-play {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(to bottom, transparent, rgba(0,0,0,.25));
    }
    .ugc-play-icon {
      border: 1px solid rgba(255,255,255,.4);
      border-radius: 999px;
      width: 30px;
      height: 30px;
      display: flex;
      font-size: 12px;
      align-items: center;
      justify-content: center;
    }

    .review-grid {
      display: grid;
      grid-template-columns: repeat(4,1fr);
      gap: 20px;
      margin: 50px 0;
    }
    .review-card {
      padding: 14px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
    }
    .review-stars {
      color: #FBBF24;
      margin-bottom: 6px;
      font-size: 12px;
    }
    .review-name {
      font-weight: 600;
      font-size: 13px;
      margin-bottom: 4px;
    }
    .review-text {
      font-size: 13px;
      color: #d1d5db;
    }

    .product-box {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      padding: 28px;
      margin-top: 50px;
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,.12);
      background: radial-gradient(circle at top left, #22c55e22, #05060A);
    }
    .product-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 6px;
    }
    .product-price {
      font-size: 18px;
      font-weight: 600;
      color: #22C55E;
      margin-bottom: 10px;
    }
    .product-note {
      font-size: 14px;
      color: #d1d5db;
      margin-bottom: 14px;
    }
    .product-img img {
      width: 100%;
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,.12);
    }

    @media (max-width: 880px) {
      .rise-hero { grid-template-columns: 1fr; }
      .benefits-grid { grid-template-columns: 1fr 1fr; }
      .review-grid { grid-template-columns: 1fr 1fr; }
      .product-box { grid-template-columns: 1fr; }
    }
    @media (max-width: 600px) {
      .benefits-grid { grid-template-columns:1fr; }
      .review-grid { grid-template-columns:1fr; }
    }
  </style>

  <div class="rise-wrap">

    {% if section.settings.trust_text != blank %}
    <div class="rise-trust">{{ section.settings.trust_text }}</div>
    {% endif %}

    <div class="rise-hero">
      <div>
        {% if section.settings.kicker != blank %}
        <div class="rise-kicker">{{ section.settings.kicker }}</div>
        {% endif %}

        {% if section.settings.heading != blank %}
        <div class="rise-title">{{ section.settings.heading }}</div>
        {% endif %}

        {% if section.settings.subheading != blank %}
        <div class="rise-sub">{{ section.settings.subheading }}</div>
        {% endif %}

        <ul class="rise-bullets">
          {% if section.settings.bullet_1 != blank %}
          <li>{{ section.settings.bullet_1 }}</li>
          {% endif %}
          {% if section.settings.bullet_2 != blank %}
          <li>{{ section.settings.bullet_2 }}</li>
          {% endif %}
          {% if section.settings.bullet_3 != blank %}
          <li>{{ section.settings.bullet_3 }}</li>
          {% endif %}
        </ul>

        {% if section.settings.cta_label != blank %}
        <a class="rise-btn" href="{{ section.settings.cta_link }}">{{ section.settings.cta_label }}</a>
        {% endif %}
      </div>

      <div class="rise-hero-img">
        {% if section.settings.hero_image != blank %}
        {{ section.settings.hero_image | image_url: width: 900 | image_tag }}
        {% endif %}
      </div>
    </div>

    {% assign logos = section.blocks | where: "type", "logo" %}
    {% if logos.size > 0 %}
    <div class="logos-wrap">
      <div class="logos-title">{{ section.settings.logos_title }}</div>
      <div class="logos-grid">
        {% for block in logos %}
        {{ block.settings.logo_image | image_url: width: 160 | image_tag }}
        {% endfor %}
      </div>
    </div>
    {% endif %}

    {% assign benefits = section.blocks | where: "type", "benefit" %}
    {% if benefits.size > 0 %}
    <div class="benefits-grid">
      {% for block in benefits %}
      <div class="benefit-box">
        <div class="benefit-title">{{ block.settings.title }}</div>
        <div class="benefit-text">{{ block.settings.text }}</div>
      </div>
      {% endfor %}
    </div>
    {% endif %}

    {% assign ugc_blocks = section.blocks | where: "type", "ugc" %}
    {% if ugc_blocks.size > 0 %}
    <div class="ugc-strip">
      {% for block in ugc_blocks %}
      <div class="ugc-card">
        <div class="ugc-thumb">
          {{ block.settings.thumb | image_url: width: 400 | image_tag }}
          <div class="ugc-play">
            <div class="ugc-play-icon">▶</div>
          </div>
        </div>
        <div>{{ block.settings.caption }}</div>
      </div>
      {% endfor %}
    </div>
    {% endif %}

    {% assign review_blocks = section.blocks | where: "type", "review" %}
    {% if review_blocks.size > 0 %}
    <div class="review-grid">
      {% for block in review_blocks %}
      <div class="review-card">
        <div class="review-stars">★★★★★</div>
        <div class="review-name">{{ block.settings.name }}</div>
        <div class="review-text">{{ block.settings.text }}</div>
      </div>
      {% endfor %}
    </div>
    {% endif %}

    {% if section.settings.product != blank %}
    {% assign p = all_products[section.settings.product] %}
    {% if p %}
    <div class="product-box">
      <div>
        <div class="product-title">{{ section.settings.product_title | default: p.title }}</div>
        <div class="product-price">{{ p.price | money }}</div>
        <div class="product-note">{{ section.settings.product_note }}</div>

        {% form 'product', p %}
        <input type="hidden" name="id" value="{{ p.selected_or_first_available_variant.id }}">
        <button class="rise-btn" type="submit">{{ section.settings.product_btn_label }}</button>
        {% endform %}
      </div>

      <div class="product-img">
        {% if section.settings.product_image != blank %}
        {{ section.settings.product_image | image_url: width: 700 | image_tag }}
        {% else %}
        {{ p.featured_image | image_url: width: 700 | image_tag }}
        {% endif %}
      </div>
    </div>
    {% endif %}
    {% endif %}

  </div>
</section>

{% schema %}
{
  "name": "Rise Funnel Ultra Premium",
  "settings": [
    { "type": "text", "id": "trust_text", "label": "Bandeau de confiance", "default": "100 nuits d’essai • Satisfait ou remboursé • Livraison offerte" },
    { "type": "text", "id": "kicker", "label": "Kicker", "default": "Réveil silencieux premium" },
    { "type": "text", "id": "heading", "label": "Titre principal", "default": "Réveillez-vous sans réveiller votre partenaire." },
    { "type": "textarea", "id": "subheading", "label": "Sous-titre", "default": "Un bracelet à vibrations puissantes conçu pour les dormeurs profonds, les couples et les personnes malentendantes." },

    { "type": "text", "id": "bullet_1", "label": "Bullet 1", "default": "Vibrations 3× plus fortes qu'une montre classique" },
    { "type": "text", "id": "bullet_2", "label": "Bullet 2", "default": "N’interrompt pas le sommeil de votre partenaire" },
    { "type": "text", "id": "bullet_3", "label": "Bullet 3", "default": "Idéal pour dormeurs profonds & malentendants" },

    { "type": "image_picker", "id": "hero_image", "label": "Image Héro" },
    { "type": "text", "id": "cta_label", "label": "Texte bouton", "default": "Commander maintenant" },
    { "type": "url", "id": "cta_link", "label": "Lien bouton" },

    { "type": "text", "id": "logos_title", "label": "Titre logos", "default": "Vu dans :" },

    { "type": "product", "id": "product", "label": "Produit" },
    { "type": "text", "id": "product_title", "label": "Titre produit", "default": "Bracelet réveil silencieux" },
    { "type": "textarea", "id": "product_note", "label": "Description courte", "default": "Réveil vibratoire puissant • Batterie longue durée • Confort toute la nuit" },
    { "type": "text", "id": "product_btn_label", "label": "Texte bouton ajout panier", "default": "Ajouter au panier" },
    { "type": "image_picker", "id": "product_image", "label": "Image produit personnalisée" }
  ],

  "blocks": [
    {
      "type": "logo",
      "name": "Logo média",
      "settings": [
        { "type": "image_picker", "id": "logo_image", "label": "Logo" }
      ]
    },
    {
      "type": "benefit",
      "name": "Bénéfice",
      "settings": [
        { "type": "text", "id": "title", "label": "Titre" },
        { "type": "textarea", "id": "text", "label": "Description" }
      ]
    },
    {
      "type": "ugc",
      "name": "UGC / Vidéo",
      "settings": [
        { "type": "image_picker", "id": "thumb", "label": "Miniature" },
        { "type": "textarea", "id": "caption", "label": "Texte" }
      ]
    },
    {
      "type": "review",
      "name": "Avis client",
      "settings": [
        { "type": "text", "id": "name", "label": "Nom" },
        { "type": "textarea", "id": "text", "label": "Commentaire" }
      ]
    }
  ],

  "presets": [
    { "name": "Rise Funnel Ultra Premium" }
  ]
}
{% endschema %}
